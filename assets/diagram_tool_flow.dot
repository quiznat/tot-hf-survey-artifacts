digraph G {
  graph [bgcolor="#ffffff", pad="0.06", nodesep="0.34", ranksep="0.50", splines="polyline", fontname="Times-Roman", fontcolor="#162130", margin="0.02", rankdir="TB", ranksep="0.52", nodesep="0.30"];
  node [shape="box", style="filled", fillcolor="#ffffff", color="#445a79", penwidth="1.5", fontname="Times-Roman", fontsize="11", margin="0.06,0.05"];
  edge [color="#445a79", penwidth="1.3", arrowsize="0.70", fontname="Times-Roman", fontsize="9", fontcolor="#162130"];

  query [label="User Query"];
  reason [label="LLM Reasoning Step"];
  need [shape="diamond", style="filled", fillcolor="#ffffff", color="#445a79", penwidth="1.5", fontname="Times-Roman", fontsize="11", margin="0.04,0.04", label="Need\nTool?"];
  select [label="Select Tool + Arguments"];
  execute [label="Execute Tool"];
  observe [label="Tool Observation"];
  answer [label="Generate Final Answer"];

  query -> reason -> need;
  need -> select [label="Yes"];
  need -> answer [label="No"];
  select -> execute -> observe;
  observe -> reason [constraint=false];

  { rank=same; select; answer }
}
